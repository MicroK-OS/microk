# UDI driver properties for the DPT SCSI sample driver.

properties_version 0x101

##
## Identify ourselves
##

message 1 Project UDI
message 2 http://www.project-UDI.org/participants.html
message 3 DPT SCSI Sample UDI Driver

supplier  1
contact   2
name      3
shortname udi_dpt

release 3 1.01

##
## Describe devices supported
##

device 5 2 bus_type string pci pci_vendor_id ubit32 0x1044 \
			     pci_device_id ubit32 0xA400
message 5 DPT-PCI

##
## Indicated dependencies
##

requires udi        0x101
requires udi_physio 0x101
requires udi_bridge 0x101
requires udi_scsi    0x101
## requires udi_gio    0x101

module udi_dpt

region 0
pio_serialization_limit 0 # We use only a single serialization domain.

##
## Describe our configuration
##

meta 1 udi_scsi
meta 2 udi_bridge

# Bind ops (meta_idx, region_idx, ops_idx)
child_bind_ops  1 0 1
parent_bind_ops 2 0 2 5

##
## Build instructions (UDI drivers don't have makefiles!)
##

## Definitions of DPT_SCSI_META_IDX and DPT_BRIDGE_META_INDX must
## match the definitions of meta indexes (see later for meta idx
## definitions.
## Define DPT_DEBUG to compile the driver for debugging.

compile_options \
	-DDPT_MGMT_META_IDX=0 \
	-DDPT_SCSI_META_IDX=1 \
	-DDPT_BRIDGE_META_IDX=2 

source_files udi_dpt.c udi_dpt.h

message 1010 ++dpt_usage_ind (usage_cb = %p, resource_level = %d)
message 1020 dpt_usage_ind: meta_idx = %d, trace_mask = %d
message 1030 dpt_usage_ind: Invalid meta_idx %d
message 1040 dpt_usage_ind: Invalid resource_level %d
message 1090 --dpt_usage_ind

message 1110 ++dpt_usage_ind_failure (gcb = %p, correlated_status = 0x%x)
message 1190 --dpt_usage_ind_failure

message 1410 ++dpt_bus_bind_ack(bus_bind_cb = %p, preferred_endianness = 0x%x, \
			status = %d)
message 1420 dpt_bus_bind_ack: bus device bind failed, status = %d
message 1490 --dpt_bus_bind_ack

message 2410 ++dpt_intr_attach_ack(intr_attach_cb = %p, status = %d)
message 2420 dpt_intr_attach_ack: udi_intr_attach_req failed, status = %d
message 2490 --dpt_intr_attach_ack

message 2910 ++dpt_channel_event_failure(gcb = %p, correlated_status = %d)
message 2990 --dpt_channel_event_failure

message 3710 ++dpt_scsi_io_req(scsi_io_cb = %p)
message 3790 --dpt_scsi_io_req

message 3910 ++dpt_scsi_io_req_done(rdata = %p, cp = %p)
message 3921 dpt_scsi_io_req_done: command (0x%x) - Selection Timeout
message 3922 dpt_scsi_io_req_done: command (0x%x) - Command Timeout
message 3923 dpt_scsi_io_req_done: command (0x%x) - SCSI Bus Reset Received
message 3924 dpt_scsi_io_req_done: command (0x%x) - Initial Controller Power-up
message 3925 dpt_scsi_io_req_done: command (0x%x) - Unexpected Bus Phase
message 3926 dpt_scsi_io_req_done: command (0x%x) - Unexpected Bus Free
message 3927 dpt_scsi_io_req_done: command (0x%x) - Bus Parity Error
message 3928 dpt_scsi_io_req_done: command (0x%x) - SCSI Bus Hung
message 3929 dpt_scsi_io_req_done: command (0x%x) - Unexpected Message Reject
message 3930 dpt_scsi_io_req_done: command (0x%x) - SCSI Bus Reset Stuck
message 3931 dpt_scsi_io_req_done: command (0x%x) - Auto-Request Sense Failed
message 3932 dpt_scsi_io_req_done: command (0x%x) - HBA Memory Parity error
message 3933 dpt_scsi_io_req_done: command (0x%x) - CP aborted - NOT on Bus
message 3934 dpt_scsi_io_req_done: command (0x%x) - CP aborted - WAS on Bus
message 3935 dpt_scsi_io_req_done: command (0x%x) - CP was reset - NOT on Bus
message 3936 dpt_scsi_io_req_done: command (0x%x) - CP was reset - WAS on Bus
message 3937 dpt_scsi_io_req_done: command (0x%x) - Controller RAM ECC Error
message 3938 dpt_scsi_io_req_done: command (0x%x) - PCI Parity Error
message 3939 dpt_scsi_io_req_done: command (0x%x) - PCI Master Abort
message 3940 dpt_scsi_io_req_done: command (0x%x) - PCI Target Abort
message 3941 dpt_scsi_io_req_done: command (0x%x) - PCI Signaled Target Abort
message 3945 dpt_scsi_io_req_done: command (0x%x) - Command Failed, \
		 ha status (0x%x), scsi status (0x%x)
message 3950 dpt_scsi_io_req_done: command (0x%x) - Auto-request sense failed, \
		 ha status (0x%x), scsi status (0x%x)
message 3990 --dpt_scsi_io_req_done

message 4160 ++dpt_scsi_io_req_failure(gcb = %p, correlated_status = 0x%x)
message 4190 --dpt_scsi_io_req_failure
