2001-09-23  Steven Bytnar  <sbytnar@stg.com>

	* linux/Makefile: Replaced /lib/modules with $(MODULESPATH).
	Replaced /usr/src/linux/`uname -r` with $(MODULESPATH)/`uname -r`/build.
	* linux/getarchflags: Changed /usr/src/linux-`uname -r` to
	/lib/modules/`uname -r`.
	* linux/udi_env_init.c: Moved DMA cache init and deinit functionality
	into udi_osdep_dma.c.
	Moved DMA_NOISY and _DMA_NOISY out of udiprops.txt.
	* linux/udi_osdep_dma.c (osdep_dma_init_cache): Added.
	(osdep_dma_dispose_of_cache): Added.
	(_osdep_dma_alloc): Renamed osdep_dma_alloc.
	(_dma_cache_lock): Renamed osdep_dma_cache_lock.
	(_osdep_dma_cache): Renamed osdep_dma_cache.
	* linux/udi_osdep.c: Fixes so code compiles on 2.2.18 or newer.
	* linux/udiprops.txt: Moved DMA_NOISY and _DMA_NOISY to udi_osdep_dma.c.
	* linux/udi_osdep_opaquedefs.h: Renamed _udi_osdep_event_opaque.q
	to wait_q.
	* linux-user/torture_run: Added a commented out section for making
	torture_run stop whenever a failure occurs.

2001-09-20  Steven Bytnar  <sbytnar@stg.com>

	* linux/Makefile: Simplified condition test criteria.

2001-09-20  Burkhard Daniel  <burk@stg.com>

	* linux/Makefile: Go back to using the old method of generating 
	opaque types, as the new method doesn't currently work with gcc 3.
	* linux/mkopaque_mod.c: Bring up to date by adding definition for
	_udi_osdep_driver_t.
	* linux/osdep_pio.c (_udi_get_pio_mapping): Add comment for a TODO.
	* linux/udi_osdep.c(init_waitqueue_head): Define compatibility macro for
	2.2 kernels.
	(_udi_osdep_event_init): Simplify by using compatibility macro.
	(_udi_osdep_event_wait): [version for 2.4] Remove race condition.
	(_udi_osdep_event_wait): [version for 2.2] Remove race condition.
	Remove dead code. Simplify. Remove author comment.
	(_udi_osdep_event_signal): [version for 2.2]: Simplify, remove dead
	code.
	(_udi_wrapped_free): Separate use of header padding from use of footer
	padding (i.e. now each can be used separately).
	(_osdep_low_on_stack): New.
	* linux/udi_osdep.h: Define MIN_STACK_SIZE as the low-water mark on
	available stack size.
	(_osdep_low_on_stack): Declare.
	(_OSDEP_IMMED_CALLBACK): Override common UDI_IMMED_CALLBACK, and make it
	use _osdep_low_on_stack().
	(_OSDEP_DEFER_MEI_CALL): Make it use _osdep_low_on_stack().
	
2001-09-16  Steven Bytnar  <sbytnar@stg.com>

	* posix/timertest.c: Changed from sigprocmask() to
	sigaddset/sigsuspend.
	Changed assert() to udi_assert().
	* common/Make_conf: Added Darwin environment.
	* darwin-user/Makefile (mkpop): more warnings.
	(clean): Remove more leftovers.
	* darwin-user/obj_osdep.c (_udi_get_elf_sprops): Call
	udi_std_sprops_parse once instead of repeatedly.
	* darwin-user/osdep_pio.c: Overhaul for System Bus meta
	support.
	* darwin-user/pio_pops.h: Warning removal.
	* darwin-user/torture_run: Changed around MallocCheck settings.
	Added some info about gdb debugging with MallocCheck.
	* darwin-user/udi_osdep.h: Minimum Posix PCI config space.
	* darwin-user/udi_osdep.mk (LIBS): Added an option for possibly
	using MacOS X 10.1's electric-fence framework.
	* darwin-user/udiprops.txt: Code motion to make osdep code
	compile before common code.

2001-09-16  Steve Bytnar  <sbytnar@stg.com>

	* linux/udi_osdep.c (_udi_wrapped_free): Fixed bracketing.

2001-09-13  Steve Bytnar  <sbytnar@stg.com>

	* common/udi_cb.c (udi_cb_free): Original CBs (stored due to 
	reallocation) are no longer leaked.
	(_udi_cb_realloc): If a CB is repeatedly reallocated, free the
	original CB.

2001-08-31  Steve Bytnar  <sbytnar@stg.com>

	* common/udi_MA.c (_udi_MA_cb_alloc): Init cb_queue member.

2001-08-31  Robert Lipe  <robertl@caldera.com>

	* common/spparse.l (mapper): New.
	* common/spparse.y (MAPPER): New.
	* uw/osdep_make.c (driver_had_node_file): New.
	(osdep_mkinst_files): Add parsing of mapper 'node' lines to 
	generate DSP Node files.  Delete special case for core environment.

2001-08-30  Robert Lipe  <robertl@caldera.com>

	* common/udi_MA.c (_udi_unbind4): Use UDI_HANDLE_IS_NULL for 
	testing abort handle.
	* common/udi_env.h (_udi_dev_node): Make pio_abort_handle a
	normal udi_pio_handle_t.

2001-08-17  Robert Lipe  <robertl@caldera.com>

        * common/udi_dma.c (udi_dma_buf_unmap): Return NULL for NULL input.

2001-08-15  Robert Lipe  <robertl@caldera.com>

	* uw/udi_osdep.c (_udi_module_load): Avoid _udi_MA_meta_load for
	libraries on OpenUNIX.

2001-08-13  Robert Lipe  <robertl@caldera.com>

        * solaris/udi_osdep.h (_OSDEP_FORCE_CB_REALLOC): Don't realloc mgmt cb's.
        * uw/udi_osdep.h: Likewise.

2001-08-08  Robert Lipe  <robertl@caldera.com>

	* common/udi_inst_attr.c (_udi_decode_escapes): Simplify expression
	in messsage evaluation.  Improve comments.

2001-08-08  Robert Lipe  <robertl@caldera.com>
	
	* common/udi_alloc.c (_udi_alloc_queue) Delete unused vars elem2, tmp2.
	* common/udi_alloc.c (_udi_alloc_queue) Delete unused var region.
	* common/trlog.c (_udi_trlog_daemon_work) Delete unused var region.

2001-08-07  Robert Lipe  <robertl@caldera.com>

	 * common/udi_dma.c (udi_dma_buf_unmap): Handle null handle correctly.
        (udi_dma_free): More conformant test for null handle.

2001-08-07  Robert Lipe  <robertl@caldera.com>

	* common/udi_env.h (_udi_alignto): Added.
	(_udi_naturally_aligned): Added.
	(_UDI_IS_NATURALLY_ALIGNED) Added.
	* common/udi_init.c (_udi_post_init_processing): Align cb_visible
	size to total cb size (and therefore scratch) is always aligned.
	(_udi_post_init): Likewise.
	* common/udi_layout.c (alignto): Deleted.
	(_udi_get_layout_size): Change to use _udi_alignto instead of alignto.
	* common/udi_cb.c (_udi_alloc_cb_complete): Assert scratch alignment.
	(_udi_cb_realloc): Likewise.
	* common/udi_mem.c (_udi_mem_alloc_complete): Likewise.

2001-08-03  Minghui Jiang <ming@stg.com>

        * common/udi_imc.c (_udi_channel_spawn_complete): Fix rendesvous
	for out of order anchors.

2001-07-31  Burkhard Daniel  <burk@stg.com>

	* linux/udi_osdep.c: Move defines underneath copyright statement.
	(protect_page): Write-protect (and unprotect) a page. New.
	(HEADER_PAD_SIZE, FOOTER_PAD_SIZE): Make each the size of a page.
	(_mblk_header_t): Move members into a union to ensure header is 
	page-aligned. Change type of size member to udi_size_t. Add phys_mem 
	member. Ensure structure is page-aligned.
	(_udi_wrapped_alloc_inst): Write-protect header and footer pages.
	Page-align header. Map physical mem (kmalloc'd) into virtual area, so
	it can be write-protected. Keep track of allocation statistics.
	(_udi_wrapped_free_inst): Unprotect header and footer pages. Destroy 
	virtual mapping of kmalloc'd memory. Keep track of allocation
	statistics.
	(_udi_validate_mblk): Adapt to changes in _mblk_header_t.	
	(_udi_find_in_mempool): Likewise.
	(_udi_dump_mempool): Likewise.
	* linux/udi_sprops.c (_OSDEP_GET_STD_MSGFILE): Use _OSDEP_PRINTF, not
	printf.

2001-07-31  Burkhard Daniel  <burk@stg.com>

	* linux/udi_MA_osdep.c (_udi_MA_osdep_init): Rename udi_MA to udi (env
	part).
	* linux/udisprops.txt: Rename udi_MA to udi. Compile options fixed.

2001-07-31  Burkhard Daniel  <burk@stg.com>

	* linux/osdep_pio.c: Remove definition of ulong_t. Use udi_ubit32_t
	instead.
	(_udi_get_pio_mapping): Record original mem address.
	(__udi_release_pio_mapping): On 2.3+ kernels, release memory mappings.
	* linux/udi_osdep_opaquedefs.h (_udi_osdep_pio_opaque): Change type of 
	baseaddr to unsigned long and type of _u.mem.mapped_addr to 
	unsigned char *.

2001-07-31  Burkhard Daniel  <burk@stg.com>

	* linux/udi_osdep_dma.c: Add extra debug.
	(osdep_dma_mem_alloc): Fix alignment enforcement code. Add code to
	record dma allocations.
	(osdep_dma_mem_free): Add code to remove record of dma allocation.
	(_udi_dma_buf_map): Handle free of old container correctly.
	* linux/udi_env_init.c: Add support for recording dma allocations.
	(kthread_init_module): Initialize dma allocation record keeping.
	(cleanup_module): Remove left-over dma allocations so that the
	udi_dma_cache can be removed.
	* linux/udi_osdep.h (_osdep_dma_alloc_t): Add link member.

2001-07-31  Burkhard Daniel  <burk@stg.com>

	* common/udi_env_buf.h (_UDI_XBUF_CONTEXT): Removed double occurrence.
	(_UDI_SET_XBUF_CONTEXT): Change the context of an external buffer.

2001-07-11  Robert Lipe  <robertl@sco.com>

	Start adding system bus bindings.

	* common/posix_env.h (posix_bus_type): New.
	(posix_sysbus_t): New.
	(posix_dev_node_t): New.
	* common/udi_env.h: Include udi_pci.h and udi_sysbus.h.
	* common/udi_env_physio.h: regset_idx in pio handle is a 
	udi_ubit32_t, not an udi_index_t.
	* linux-user/osdep_pio.c (_udi_get_pio_mapping): Add support for
	multiple bus types.
	* linux-user/udi_osdep.c (linux_posix_dev_node_init): Adapt to
	name change in posix_dev_node_t.
	* posix/pcpiotest.c: Convert to system bus bindings.
	* posix/piotest.c: Likewise.
	* posix/transbench.c: Likewise.
	* posix/transtest.c: Likewise.
	* posix/posix.c (posix_dev_node_init): Get attributes appropriate	
	for each bus type.   
	(various) Adapt to name change in posix_dev_node_t.
	* uw-user/osdep_pio.c (_udi_get_pio_mapping): Add support for 
	multiple bus types.

2001-07-10  Robert Lipe  <robertl@sco.com>

	* uw/udi_osdep.c (_udi_module_load): Don't do MA meta load for
	driver libraries.
	(_udi_module_unload): On UnixWare 7, don't free interfaces since
	we didn't create them.

2001-06-22  Robert Lipe  <robertl@sco.com>

        * common/udi_env.h (reg_pending): Delete.
        (reg_kill_count): Likewise.
        * common/udi_alloc.c (_udi_alloc_queue): Delete reference
        to and unneeded REGION_LOCKS surrounding reg_pending.
        * common/udi_imc.c (_udi_run_next_on_region_queue): Likewise.
        * common/udi_trlog.c (udi_trace_write): Likewise.
        (_udi_log_vwrite): Likewise.
        (_udi_trlog_daemon_work): Likewise.

2001-06-18  Burkhard Daniel <burk@stg.com>

	* linux/udi_osdep.c: Define helper macros DECLARE_WAITQUEUE, 
	__set_task_state, local_irq_save, and local_irq_restore for 2.2 
	kernels. 
	(_udi_osdep_sem_p): Don't define "flags" when not needed.
	(_udi_osdep_event_wait): Declare wait queues using new helper macros 
	in order to be portable between 2.2 and 2.4 kernels. Remove race 
	condition.
	(_udi_osdep_event_signal): Fixed comments. Removed dead code.
	(_udi_osdep_mutex_lock): Use new helper macro in order to be portable
	between 2.2 and 2.4 kernels.

2001-06-18  Robert Lipe <robertl@sco.com>

	* posix/piotest.c (main): Dummy up bind_channel since we illegally 
	(and intentionally) do physio without really doing a bind.
	* posix/transtest.c (main): Likewise.
	* posix/transbench.c (main): Likewise.

2001-06-18  Burkhard Daniel <burk@stg.com>
	
	* linux/osdep_pio.c (_udi_get_pio_mapping): Use %ld for printf'ing 
	non-pointer value.

	* linux/udi_osdep_dma.c (_osdep_dma_build_scgth): Added debug printf's
	for 64-bit scgth. Cleaned up casts and data types.

2001-06-18  Burkhard Daniel <burk@stg.com>

	* common/udi_std_sprops.c (udi_std_sprops_parse): Initialize variables
	in order to avoid compiler warning.
	(_udi_osdep_sprops_count): Likewise.
	(_udi_osdep_sprops_get_bindops): Likewise.

2001-06-15  Burkhard Daniel <burk@stg.com>

	* common/udi_pio.c (udi_pio_map): Mustn't be called by a driver before
	that driver is bound to the bridge driver.
	* common/udi_dma.c (udi_dma_mem_alloc): Likewise.
	(udi_dma_prepare): Likewise.

2001-06-14  Rob Tarte <robt@PacificCodeWorks.com>

	* common/udi_env.h (UDI_SP_REQUIRE):  Added for OpenServer
	driver load.

2001-06-13  Robert Lipe  <robertl@sco.com>

        * common/udi_piotrans.c (_UDI_PIO_SHIFT_LEFT_WIDE): Explictly
        cast constant of '1' to correct type when shifting.

2001-06-11  Rob Tarte  <robt@PacificCodeWorks.com>
	Merge OpenServer environment from private branch.


	2001-05-04  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c: Fixed event code to use ilockb instead 
		of lockb. Fixed debug code.

	2001-04-27  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.h, osr5/udi_osdep.c: Turned lockb's into 
		ilockb's.  We will not be holding these locks across a sleep, 
		so we don't need a lock stack.

	2001-04-17  Rob Tarte  robt@PacificCodeWorks.com
		* udi_sprops.c, osr5/udi_osdep_dma.c, osr5/udi_osdep.c:
		Cleaned up code.  Added comments.

	2001-04-16  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c: Turned off debug.  debug prints are now 
		logged to the console unless the environment is compiled debug.

	2001-04-14  Rob Tarte  robt@PacificCodeWorks.com
		* udi_sprops.c, udiprops.txt, udi_sprops.h, osr5/udi_osdep.h, 
		osr5/udi_osdep.c: Added support for loading drivers in 
		dependency order instead of mdevice order.  Added requires 
		to sprops.  Added udi_physio to udiprops.txt.

	2001-04-06  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c: Set the KM_NO_DMA flag, so that memory 
		below 16MB is not used up.

	2001-04-03  Rob Tarte  robt@PacificCodeWorks.com
		* udiprops.txt: We are not using udi_memcpy anymore

		* osr5/udi_osdep_dma.c: Moved udi_get_ret() so that 
		the compiler wouldn't optimize it out.

		* osr5/udi_osdep.c: Fixed daemon start for compiler 
		optimizations.

		* Make_conf.osr5: Turn on Pentium optimizations.

	2001-03-29  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.h, osr5/udi_osdep.c:
		Turned off some debug prints.  Turned off mutex profiling.
		Added log to messages.

		* osr5/udi_osdep.h:
		Added mutex performance code.  Converted atomic operations 
		over to native.

		* osr5/udi_osdep.c:
		Removed isr lock.  Added mutex performance code.

	2001-03-23  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c:
		Interupt routine no longer uses locks.  Auto generate 
		interrupt stubs.  Memory management optimizations.

		* osr5/udi_osdep_inst_attr.c:
		Added debug flag.

	2001-02-18  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c: Fixed BTLDs after making changes for 
		scsi naming.

		* osr5/udi_osdep.c: Added printcfg.

		* osr5/udi_osdep.c: Fixed daemon spawning for MP.  Added 
		support for native name scsi devices.

		* osr5/udi_osdep_dma.c: Turned off hack for adaptec controller.

		* osr5/udi_osdep_dma2.c: Turned off stats.

	2001-02-17  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c, osr5/udi_osdep_dma.c
		Turned off more debug code.  Fixed BTLD debug code to work 
		with scodb.  Allocate print buffer.

	2001-02-13  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c:
		Added print buffer search function.  Fixed debug stack 
		tracer code.  Added small stack daemon start.

	2001-01-22  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep_inst_attr.c, osdep_pio.c:
		Turned off debug.

		* osr5/udi_osdep.c: Fixed typo.

	2001-01-17  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.h: Stripped out stale code.

		* osr5/udi_osdep_inst_attr.c:
		Added driver instance code.  This is used by the NIC mapper 
		to figure out which instance (bus, func, slot) of a driver 
		corresponds to which device (major, minor).

	2001-01-10  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep_dma.c:
		Turned off debug code.

		* osr5/udi_osdep_dma2.c: Directly use OpenServer paging macros.

		* osr5/udi_osdep.c:
		Turned off some debug stuff.  Increased the debug wait 
		timeout period.

	2000-12-23  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep_inst_attr.c: Added persistent 
		attribute support.

	2000-12-21  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c: Fixed halt code.

	2000-12-17  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep_dma2.c, osr5/udi_osdep.c, osr5/udi_osdep_dma.c
		Fixed defer SG code.

	2000-12-13  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep_dma.c, osr5/udi_osdep_dma2.c:
		Checked in and OpenServer-ized Francois' fix to the inplace 
		SG code.

	2000-12-12  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep_dma2.c:
		Added to tree.  This code eliminates SG double copy.

	2000-11-21  Rob Tarte  robt@PacificCodeWorks.com
		* udiprops.txt, osr5/udi_osdep.c, osr5/udi_osdep.h, 
		osr5/udi_osdep_dma.c: Added deferred scatter gather map 
		freeing.  Wakeup the alloc daemon when there is memory to 
		be freed.  Added direct DMA, and enabled it
		in udiprops.txt.

	2000-11-17  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c:
		Added _udi_isr_lock.  Changed all lockb's to use 
		_OSDEP_MUTEX_LOCK.  Distributed interrupts.  Code cleanup.

		* osdep_pio.c:
		Fixed stepping in the pci_cfg_rd_many and pci_cfg_wr_many 
		routines.

		* osr5/udi_osdep.h:
		Cleaned up stale code.  Updated _OSDEP_EVENT_T to use
		_OSDEP_MUTEX_T instead of struct lockb.

		* osr5/udi_osdep_dma.c:
		changed all lockb to _OSDEP_MUTEX_LOCKS, and updated events to
		_OSDEP_EVENT_T.

	2000-11-12  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c, osr5/udi_osdep.h:
		First pass support for SMP.

	2000-11-08  Rob Tarte  robt@PacificCodeWorks.com
		* osr5/udi_osdep.c, osr5/udi_osdep.h, osr5/udi_osdep_dma.c, 
		osr5/udi_osdep_inst_attr.c: Merged robertl's patch for 
		osr5/udi_osdep_inst_attr.c.  Cleaned up alloc and free code.

		* osr5/udi_osdep_dma.c:
		Removed extra scatter gather map entry.

2001-06-10  Steven Bytnar  <sbytnar@users.sourceforge.net>

	* posix/posix.c (osdep_prepare_pthread): Added a comment about
	what may happen when pthread_sigmask is unavailable.
	* posix/timertest.c: Added SIGALRM protected [u]sleep function
	call workaround when PTHREAD_SIGMASK_UNAVAILABLE is defined.

2001-06-10  Steven Bytnar  <sbytnar@users.sourceforge.net>

	* common/Make_conf: Adjust Darwin support to be less
	ambitious, and so it chooses the Mach-O ABI.
	* common/posix_env.h: (_POSIX_MUTEX_TYPE) If 
	PTHREAD_MUTEX_NORMAL doesn't exist for some platform, just
	use 0 instead.
	* common/udi_osdep_defaults.h: Misspelling.
	* posix/posix.c (osdep_prepare_thread): Darwin doesn't have
	pthread_sigmask.  To workaround this, and for the lack of being
	able to detect this situation, I needed to add a check for when
	PTHREAD_SIGMASK_UNAVAILABLE is not defined. Yes, the logic
	is a double negative, but it is only done this way since
	Darwin is the only OS that doesn't implement this call.
	(udi_pio_probe): Darwin doesn't define SA_RESETHAND. All
	other OS's typically do.
	* posix/posix_sprops_elf.c (_udi_get_elf_sprops):
	Code wrapped in ifndef UDI_ABI_NON_ELF_UDIPROPS_SECTION.
	* darwin-user/udi_osdep.h: Include pthread.h earlier and
	defined PTHREAD_SIGMASK_UNAVAILABLE, to reduce common code
	patches.

2001-06-08  Robert Lipe  <robertl@sco.com>

	* common/udi_inst_attr.c (_udi_instance_attr_async_get):
	Add sanity tests that lengths match values.
	(udi_instance_attr_set): Likewise.

2001-05-18  Robert Lipe  <robertl@sco.com>

	* common/udi_env_physio.h (_udi_pio_opcode_t): Add 
	_UDI_PIO_STORE_DIR, _UDI_PIO_STORE_DIR_WIDE, _UDI_PIO_LOAD_DIR,
	_UDI_PIO_LOAD_DIR_WIDE.
	* common/udi_piotrans.c (_udi_pio_debug_table): Likewise.
	(_udi_execute_translist): Likewise.
	(_udi_pio_trans_prescan): Likewise.
	* posix/transtest.c (load_list): Add tests for above.

2001-05-18  Kevin Van Maren <vanmaren@users.sourceforge.net>

	* uw/udi_osdep.c: Call _udi_MA_destroy_driver_by_name
	  when unloading a driver instead of _udi_MA_destroy_driver.
	* common/udi_MA.c: When unbinding a node (because of
	  _udi_MA_destroy_driver_by_name) that still exists,
	  place the node on the unbound node queue so a new
	  driver can be attached to the node later.
	  Create a function to place a node on the unbound queue.

2001-05-15  Robert Lipe  <robertl@sco.com>

	 * common/posix_env.h (_OSDEP_TIMESTAMP_STR): Print as unsigned.

2001-05-15  Burkhard Daniel  <burk@stg.com>

	* linux/udi_osdep.c (_udi_osdep_sem_p): Avoid unneccessary locking
	for disabled code
	(osdep_timer_init): Initialize semaphore before using it. Don't
	de-acquire semaphore as we de-init it right away anyhow.

2001-04-27  Kevin Van Maren <vanmaren@users.sourceforge.net>

	* common/udi_MA.c: Add _udi_MA_dev_to_instance function.
	  Fix _udi_MA_print_dev_tree to print the specified node's tree.
	  Clean up functions to use _udi_driver_lookup_by_name
	  instead of inling the code.
	* common/udi_env.h: Add proto for _udi_MA_dev_to_instance
	* uw/interface.d/udi_svr5_mapper.1.01: Add _Compat_cm_getbrdkey
	  and _udi_MA_dev_to_instance for the NIC mapper.

2001-04-27  Burkhard Daniel  <burk@stg.com>
	
	* linux/udi_osdep.c (udi_strtou32): Swallow leading whitespaces.

2001-04-27  Burkhard Daniel  <burk@stg.com>

	* common/udi_std_sprops.c (all): Undo changes from version 1.8. Reverted
	to revision 1.7, i.e. rev's 1.9 and 1.7 look exactly the same.

2001-04-26  Robert Lipe  <robertl@sco.com>

        * common/Make_conf (OpenUNIX): Add case.  Identical (for now)
        to UnixWare 7 target.

2001-04-24  Robert Lipe  <robertl@sco.com>

	* posix/transtest.c (load_list): Add tests for LOAD+DIRECT 
	and STORE+DIRECT.

Mon Apr 23 16:20:18 2001  Robert Lipe  <robertl@sco.com>

        * common/posix_env.h (_OSDEP_WRITE_DEBUG): Define so we don't
        get stray newlines.
        * common/udi_env.h (udi_meta_t): Make meta_name const.
        * common/udi_memchr.c (udi_memchr): Make `s' type correct.
        * posix/posix.c (_udi_MA_osdep_init): Parse sprops scn for
        core UDI module.

2001-04-20  Kevin Van Maren <vanmaren@users.sourceforge.net>

	* common/udi_MA.c: Fix two bugs introduced in the last fix:
	use the correct meta_idx when matching drivers, and remove
	the node from the unbound node queue when it goes away.
	Also some minor cleanup for consistency.

2001-04-18  Kevin Van Maren <vanmaren@users.sourceforge.net>

	* common/udi_MA.c: Fix several bugs with the environment
	matching code.  Two child metalanguages now appears to work.
	Now honors the meta when scanning device lines.
	Also improved the matching code to pick the best child driver;
	still needs the meta ranking functions implemented.
	Track unbound driver instances separately to make it easy to
	tell which nodes need to be searched for a match.
	Also includes some reformatting for readability and some
	clarification/correction of various comments.
	* common/udi_osdep_defaults.h: Remove unused _OSDEP_MATCH_DRIVER

2001-04-18  Robert Lipe  <robertl@sco.com>

        * uw/udi_osdep.c (_udi_module_load): Remove C99-ism.
        (_udi_module_unload): Unlink and free interface.
        * uw/interface.d/udi.1.01 (udi_buf_path_alloc): Added.
        (udi_buf_path_free): Added.
        (udi_buf_buf_best_path): Added.
        * interface.d/udi_svr5_mapper.1.01 (_udi_wrapped_alloc) Added.
        (_udi_wrapped_free): Added.
        (_udi_env_log_write): Added.
        (_udi_MA_local_data): Added.
        (_udi_buf_extern_init): Added.
        (_udi_buf_extern_add): Added.
        (_udi_sysdump_free): Added.
        (_udi_sysdump_alloc): Added.
        (_udi_register_isr): Added.
        (_udi_unegister_isr): Added.

2001-04-18  Burkhard Daniel  <burk@stg.com>
	
	* linux/udi_MA_osdep.c (_udi_MA_osdep_init): convert to new glue scheme
	* linux/udi_osdep.c: #include <udi_std_sprops.h>
	(_udi_driver_load): Removed.
	(_udi_driver_unload): Removed.
	(_udi_meta_load): Removed.
	(_udi_meta_unload): Removed.
	(_udi_mapper_load): Removed.
	(_udi_mapper_unload): Removed.
	(_udi_module_is_meta): New function.
	(_udi_module_load): New function, combines functionality for all
	_udi_*_load functions it replaces.
	(_udi_module_unload): New Function, combines functionality for all
	_udi_*_unload functions it replaces.
	* linux/udi_osdep_opaquedefs.h (_udi_osdep_driver_opaque_t): sprops is
	now a struct _udi_std_sprops * rather than a struct _udi_sprops_idx *
	* linux/udi_sprops.c (all): Emptied. We now use std sprops.
	(_OSDEP_GET_STD_MSGFILE): New stub that does nothing.
	(_udi_osdep_sprops_deinit): New function.
	(_udi_osdep_sprops_init): Likewise.

2001-04-18  Burkhard Daniel  <burk@stg.com>

	* common/udi_std_sprops.c (_udi_osdep_sprops_get_dev_attr_name):
	udi_strtou32 does not (neccessarily) swallow trailing whitespaces,
	respect that.
	(_udi_osdep_sprops_get_dev_attr_type): Likewise.
	(_udi_osdep_sprops_get_dev_attr_value): Likewise.
	(_udi_osdep_sprops_get_reg_overrun): Likewise.

2001-04-17  Kevin Quick  <kevin.quick@surgient.com>

	* posix/Makefile (UDIMKPKG_FLAGS_MAPPER): Added udimkpkg flags.
	* common/udiget_common.sh: Added udimkpkg flags argument as well
		  as udibuild's.
	* posix/udiget: Added udimkpkg flags argument as well as udibuild's.

2001-04-17  Robert Lipe  <robertl@sco.com>

	* common/udi_env.h (_udi_get_shortname_from_sprops): Move from here..
        * common/udi_std_sprops.h: ...to here.

2001-04-17  Robert Lipe  <robertl@sco.com>

        * env/common/Make_udibuild (udibuild-mapper): Pass mapper flag.
        * env/uw/Makefile (clean): Added.

2001-04-17  Burkhard Daniel  <burk@stg.com>

	* common/udi_env.h: Declare struct _udi_std_sprops before using it.

2001-04-12  Burkhard Daniel  <burk@stg.com>
	
	* linux/udi_osdep.h (__osdep_dma_t): add waitflag.
	* linux/udi_osdep_dma.c (_osdep_dma_xfree): new function.
	(_osdep_dma_xmap): new function.
	(_osdep_dma_xunmap): new function.
	(_udi_dma_buf_map): When creating memory for a virgin buffer, create
	dma-able memory.

2001-04-11  Robert Lipe  <robertl@sco.com>

	* posix/posix.h (posix_module_deinit): Add pointer to init_info.
	* posix/posix_sprops_elf.c (_udi_module_unload_by_name): Grope
	udiprops section to determine meta 'provides' name for destruction.
	* posix/giotest.c (do_unbinds): Use udi_brdg instead of udi_bridge.

2001-04-29  Robert Lipe  <robertl@sco.com>

	* uw/udi_osdep.c (_udi_module_is_meta): Add an out arg for 
	`provides' string.
	(_udi_module_load): Use it.

2001-04-29  Robert Lipe  <robertl@sco.com>

        * common/udi_MA.c (_udi_MA_meta_load): Return a void * becuase
        our caller doesn't know what a _udi_meta_t is.
        * common/udi_env.h (_udi_MA_meta_load): Fix proto.
        * common/udi_std_sprops.c (_udi_std_sprops_free): Don't walk past
        enf of linked list when releasing.
        (_udi_osdep_sprops_count): Test for null incoming sprops.
        (_udi_osdep_sprops_get_version): Remove dead code.
        (all functions) Rename '_udi_sprops_t' to type correct
        '_udi_std_sprops_t'
        (_udi_get_shortname_from_sprops): New.
        (_udi_osdep_sprops_get_descr): New.
        * common/udi_std_sprops.h (_udi_std_sprops): Add is_meta.
        * uw/udi_MA_osdep.c (_udi_MA_osdep_init): Use std_sprops parsing.
        (_osdep_get_card_id): Long Dead code.   Deleted.
        (_udi_module_load): New.
        (_udi_module_unload): New.
        (_udi_driver_load): No longer needed.   Deleted.
        (_udi_driver_unload): Likewise.
        (_udi_driver_config): Likewise.
        (_udi_mapper_load): Likewise.
        (_udi_mapper_unload): Likewise.
        (_udi_meta_load): Likewise.
        (_udi_meta_unload): Likewise.
        (_udi_module_is_meta): New.
        * uw/udi_sprops.c: Emptied.  Reference udi_std_sprops.c.
        * uw/udiprops.txt (source_files): Add common/udi_std_sprops.c

2001-04-04  Burkhard Daniel <burk@stg.com>

	* linux/udi_osdep_dma.c (_osdep_dma_build_scgth): add missing ;
 	replace unsigned long's with udi_ubit32_t's
	remove unneccessary initializations
	(_udi_dma_release): Remove misleading comment
	(_udi_dma_mem_alloc): Honor UDI_MEM_NOZERO flag (and absence
	thereof).

2001-03-27  Kevin Van Maren <vanmaren@users.sourceforge.net>

	* common/udi_MA.c: Do not attempt to bind a child driver
	if the parent driver returns UDI_ENUMERATE_LEAF on an
	enumeration request.

2001-03-26  Robert Lipe  <robertl@sco.com>

	* freebsd/udi_MA_osdep.c (_udi_module_is_meta) New function.
	(_udi_meta_load) Use it to find our 'provides' string to register
	metas with the MA.

2001-03-26  Burkhard Daniel <burk@stg.com>

	Linux DMA engine simplification.

	* linux/udi_env_init.c (all): Remove references to globals that 
	no longer exist.  Add reference to alloc cache.
  	(kthread_init_module): Remove old DMA init code, replace with new.
  	(cleanup_module): Remove old DMA de-init code, replace with new.

	* linux/udi_osdep.h (all): Provide implementation for 
	_OSDEP_WRITE_DEBUG (fixes extra newline in udi_Debug_printf).
	Update DMA structures.

	* linux/udi_osdep.c (all): Remove caching functions and logic.
	Add alloc kmem_cache (pool of dma allocation structures).
	(_osdep_dma_needs_remap): Update comment about LAST_DATA.
	Fix logic for UDI_*_ADDRESSABLE constraints in the presence of
	64 bit addressing.  Remove invalid test.
  	(_osdep_dma_mem_alloc): Use kmalloc instead of __get_free_pages 
	(kfree instead of free_pages).  Return _osdep_dma_alloc_t * rather 
	than void *.
  	(_osdep_dma_mem_free): Use kfree instead of free_pages.  Operate on 
	_osdep_dma_alloc_t * instead of void *.
	(_osdep_dma_build_scgth): Take additonal parameter: flags, set to 
	UDI_WAITOK or UDI_NOWAIT to indicate if blocking is permissible.
	Remove invalid test from swap_scgth.  Correct typo.  Nicer 
	formatting.  Never swap scgth->first_segment.

	(_udi_dma_buf_map): Try to get buffer mapping from non-blocking 
	context.  Remove excessive debugging.  Add comments.  Fix 
	remap_log issue (remember size of remapped memory also).

2001-03-26  Burkhard Daniel <burk@stg.com>

	* linux/udi_osdep.c (_udi_osdep_printf): Use internal ring buffer 
	for logging when FASTLOG is defined.

2001-03-26  Burkhard Daniel <burk@stg.com>

	* linux/udi_osdep_inst_attr.c (_udi_dev_node_init): Do not try to 
	find pci device for device node here, the bridge mapper does that.

2001-02-23  Steven Bytnar <sbytnar@stg.com>

	* common/udi_std_sprops.c (_udi_osdep_sprops_get_reg_attr): 
	Increment cp for failed matches.

2001-03-26  Robert Lipe  <robertl@sco.com>

	Fix signed handling of right shifts and additions in trans engine.
	* common/udi_piotrans.c (_UDI_PIO_SHIFT_RIGHT): Cast right shift to
	be unsigned.   Mask input value before (not after) manipulating it.
	(_UDI_PIO_SHIFT_RIGHT_32): Likewise.
	(_UDI_PIO_ADD): Correctly handle sign extension of source operand.
	* posix/transtest.c (test_shift_list): Add test cases for above.

	
2001-03-24  Kevin Van Maren <vanmaren@fast.cs.utah.edu>

	* freebsd/udi_osdep_dma.c: Minor tweaks to support conditions
	encountered during the plugfest.

	* freebsd-user/torture_run: Add POSIX_DEFER_MEI_CALL test.

2001-03-23  Robert Lipe  <robertl@sco.com>

	Fix display of UDI_PIO_DELAY opcode.
	* common/udi_piotrans.c (op_class_t): Add op_class_delay.
	(_udi_pio_debug_table):  Set it.
	(_udi_pio_trace_ops): Use it.

2001-03-21  Robert Lipe  <robertl@sco.com>

	* posix_posix_sprops_elf.c (_udi_module_is_meta): Return pointer
	to meta that we're finding.
	(_udi_module_load): For metas, find 'provides' declaration in
	sprops and use that instead of shortname.
	* common/udi_MA.c (_udi_reg_destroy_context): Deallocate meta name.
	(_udi_MA_meta_load): Store an allocated copy of incoming name.
	* common/udi_env.h (_udi_meta): meta_name no longer const.

2001-03-21  Robert Lipe  <robertl@sco.com>

	* common/udi_std_sprops.c (_udi_osdep_sprops_ifind_message): 
	Test that sprops have been initialized to avoid crash.

2001-03-21  Robert Lipe  <robertl@sco.com>

	* common/posix.h (_udi_module_load): Add prototype.
	(_udi_module_unload_by_name): Likewise.

2001-03-21  Robert Lipe  <robertl@sco.com>

	* env/comon/udi_MA.c (_udi_MA_install_driver): Don't deref drv 
	pointer before testing if null.

2001-03-17  Kurt Gollhardt <kdg@sco.com>

	* common/udi_mei.c (udi_mei_call): Add support for fast queueing.
	* common/udi_osdep_defaults.h (_OSDEP_FASTQ_MEI_CALL): Added.
	(_OSDEP_FASTQ_SCHED): Added.
	* uw/udi_osdep.h (_OSDEP_FASTQ_MEI_CALL) Added, but disabled.
	(_OSDEP_FASTQ_SCHED): Likewise.

2001-03-15 Kevin Van Maren <vanmaren@fast.cs.utah.edu>

	* common/udi_memchr.c:  Provide a default implementation of
	  udi_memchr
	* common/udi_memmove.c:  Provide a default implementation of
	  udi_memmove
	* common/udi_strrchr.c:  Provide a default implementation of
	  udi_strrchr
	* freebsd/udiprops.txt:  Pull in the default implementation of
	  udi_memchr, udi_memmove, and udi_strrchr.
	* freebsd-user/udiprops.txt:  Likewise
	* linux/udiprops.txt:  Likewise
	* linux-user/udiprops.txt:  Likewise
	* solaris-user/udiprops.txt:  Likewise
	* uw-user/udiprops.txt:  Likewise
	* osr5/udiprops.txt:  Pull in the default udi_strrchr.

2001-03-12  Burkhard Daniel  <burk@stg.com>

	* env/common/udi_MA.c (_udi_MA_meta_find): remove renaming kludge 
	  ("udi_bridge" -> "udi_brdg") 

2001-03-09  Robert Lipe  <robertl@sco.com>

	* uw-user/udiprops.txt (udi_std_sprops): Add correct pathname.

2001-03-09  Robert Lipe  <robertl@sco.com>

	* common/udi_std_srops.c (all): Don't lie about typeof udi_sprops_t.

2001-03-08  Robert Lipe  <robertl@sco.com>

	* freebsd/udiprops.txt: Update invalid copyright message text.
	* freebsd-user/Makefile: Likewise.
	* freebsd-user/udiprops.txt: Likewise.

2001-03-07  Robert Lipe  <robertl@sco.com>

	* common/udi_std_srops.c (_udi_osdep_sprops_count): Handle incoming
	NULL osdep driver sensibly.
	* posix/posix.c (_udi_MA_osdep_init): Initialize driver_info.
	* posix/posix.h (posix_module_init): Initialize driver_info.
	* freebsd-user/udi_sprops.c (_udi_osdep_sprops_init): Let common
	ELF code do the work.  Formatting fixes.
	* uw-user/udi_sprops.c, solaris-user/udi_sprops.c: Likewise.
	* freebsd-user/udiprops.txt (envcommon/udi_std_sprops.c): Added.
	* uw-user/udiprops.txt, solaris-user/udiprops.txt: Likewise.

2001-03-07  Kevin Van Maren <vanmaren@fast.cs.utah.edu>

	* freebsd-user/torture_run: added FreeBSD-specific test script
	* freebsd-user/udi_osdep.mk: point to the new torture_run

2001-03-07  Robert Lipe  <robertl@sco.com>

	Make std_sprops more flexible, unify posix driver loading.
	* common/udi_MA.c (MA_meta_elem_t): Add driver_info.
	(_udi_MA_meta_find): Remove _KERNEL kludge.
	(_udi_MA_meta_unload): Return found _OSDEP_DRIVER_T back to caller.
	(_udi_MA_destroy_driver_by_name): Use _udi_driver_lookup_by_name.
	* common/udi_env.h (REGION_Q_APPEND_STATS, REGION_Q_REMOVE_STATS,
	REGION_Q_REMOVE_FIRST_STATS): Use ISO C to provide valid null 
	statements when not debugging.
	(_UDI_REGION_Q_REMOVE_FIRST): Return dequeued CB.
	(_UDI_REGION_Q_REMOVE): Likewise.
	* common/udi_imc.c (_udi_run_next_on_region_queue): Use more obvious 
	syntax to pop cb off region queue.
	* common/udi_std_sprops.c (udi_std_sprops_free): Don't walk past
	end of list when freeing.
	(_udi_osdep_sprops_get_version): Return valid integer.
	* common/udi_std_sprops.h (_udi_std_sprops_t): Add is_meta.
	* linux-user/udi_sprops.c: Don't include udi_std_sprops.c.
	(udi_osdep_sprops_init): Emptied.  Work now done in posix_elf_sprops.
	(udi_osdep_sprops_deinit): Whitespace fixes.
	* linux-user/udiprops.txt (source_files): Add udi_std_sprops.c.
	* posix/Makefile (bridgetest_driver.o): Use real shortname.
	(nic.o): Likewise.
	(gio.o): Likewise.
	* posix/bridgetest.c (do_binds, do_unbinds): Use posix_moule_(de)init.
	* posix/buffertest.c (do_binds, do_unbinds): Likewise.
	* posix/cmostest.c (do_binds, do_unbinds): Likewise.
	* posix/giotest.c (do_binds, do_unbinds): Likewise.
	* posix/guineatest.c (do_binds, do_unbinds): Likewise.
	* posix/inittest.c (do_binds, do_unbinds): Likewise.
	* posix/ndtest.c (do_binds, do_unbinds): Likewise.
	* posix/pcitest.c (do_binds, do_unbinds): Likewise.
	* posix/shrktest.c (do_binds, do_unbinds): Likewise.
	* posix/unbindtest.c (do_binds, do_unbinds): Likewise.
	* posix/posix.h (posix_meta_init): Deleted.
	(posix_meta_term): Deleted.
	(posix_driver_init): Deleted.
	(posix_driver_term): Deleted.
	(posix_module_init): Added.
	(posix_module_deinit): Added.
	* posix/posix_sprops_elf.c (_udi_module_is_meta): Added.
	(_udi_module_load): Added.
	(_udi_module_unload_by_name): Added.

2001-03-06  Kevin Van Maren <vanmaren@fast.cs.utah.edu>

	* freebsd/Makefile (bus_if.h, device_if.h, pci_if.h): New targets.  
	Symlink from kernel source.
	* freebsd/udi_osdep.h: #include <sys/systm.h>
	* freebsd-user/udi_osdep.mk (TORTURE_RUN):  Added.

2001-02-23  Steven Bytnar <sbytnar@stg.com>

	* common/posix_env.h (POSIXUSER_NUM_PCI_DEVICES): Overrideable
	function that should return the number of pci device that 
	POSIXUSER_ENUMERATE_PCI_DEVICES will add to the device list.
	(POSIXUSER_ENUMERATE_PCI_DEVICES): Overrideable function that
	allows posix environments to easily extend the common posix
	bridge mapper.
	(posix_dev_node_deinit): Added so we can clean up the tmpfile
	posix_dev_node_init created.
	(posix_pci_device_item): The data type that represents a the
	pci devices that will be added by POSIXUSER_ENUMERATE_PCI_DEVICES.
	(POSIX_DEV_NODE_T): New member, node_pci_unit_address added for
	the convienience of dev_node_init & pio_get_mapping code. TBD: This
	should be further combined into common code with the other archs.
	(_osdep_bridge_child_data): We weren't using the pci_*_id members.
	* freebsd-user/udi_osdep.h (_OSDEP_DEV_NODE_DEINIT): Use new
	posix_dev_node_deinit function.
	* linux-user/osdep_pio.c (pci_cfg_rd_many, pci_cfg_wr_many): Added
	PCI config space read/write functions.
	(_udi_get_pio_mapping): Added PCI config space support.
	(_udi_release_pio_mapping): Added!
	* linux-user/pio_pops.h: Why use a copy of pio->offset? Get
	it directly.
	* linux-user/torture_run: Added much more comprehensive testing
	of the environment. Before new tests are brought into production,
	the environment should be investigated as to why some fail.
	* linux-user/udi_osdep.c (linux_posix_dev_node_init,
	linux_posix_dev_node_deinit): Modified/added functionality to
	complete real PCI enumeration.
	* linux-user/udi_osdep.h (POSIXUSER_ENUMERATE_PCI_DEVICES,
	POSIXUSER_NUM_PCI_DEVICES): Enable extended posix bridge mapper
	functionality.
	(_OSDEP_RELEASE_PIO_MAPPING): Enable PCI config space cleanup.
	* posix/posix.c (posix_dev_node_init): Do tmpfile() once per
	node init.
	* env/posix/posix_sprops_elf.c (_udi_get_elf_sprops): Don't
	attempt to open a file with a null pathname.
	(posix_dev_node_deinit): Added to cleanup tmpfile().
	(various): Moved all posix bridge mapper functionality into
	mapper/posix/bridge/bridgemap.c.
	* solaris-user/udi_osdep.h: Added _OSDEP_DEV_NODE_DEINIT defn.
	* uw-user/udi_osdep.h: Added _OSDEP_DEV_NODE_DEINIT defn.

2001-02-21  Steven Bytnar <sbytnar@stg.com>

	* linux/udi_sprops.c (_udi_osdep_sprops_get_dev_attr_value):
	Removed dead code related to old big endian debugging.

2001-02-18  Kevin Van Maren <vanmaren@cs.utah.edu>
	
	* posix/transbench.c (map_sz_trans_done): Use UDI time functions.
	(main): Likewise.

2001-02-18  Steven Bytnar <sbytnar@stg.com>

	* linux-user/torture_run: Added.

2001-02-17  Steven Bytnar <sbytnar@stg.com>

	* posix/Makefile, posix/shrktest.c: Changes to make shrktest build.

2001-02-17  Kevin Van Maren <vanmaren@cs.utah.edu>

	* freebsd/osdep_pio.c, freebsd/udi_osdep.c, freebsd/udi_osdep.c, 
	udi_osdep_dma.c, freebsd-user/udi_osdep.c, freebsd-user/udi_osdep.h
	(varied): Replace // comments with legal C.
	* freebsd-user/udi_osdep_pio.c: Allow I/O access from POSIX-land.
	
2001-02-17  Kevin Van Maren <vanmaren@cs.utah.edu>

	* common/udi_timer.c (udi_timer_start): Handle 0ns timer synchronously.
	(udi_timer_start_repeating): Prohibit 0ns repeating timers.

2001-02-16  Robert Lipe <robertl@sco.com>

	Add FreeBSD kernel and user-mode support.
	* freebsd/osdep_pio.c, freebsd/pio_pops.h: New files.
	* freebsd/udi_MA_osdep.c. udi_osdep_dma.c: New files..
	* freebsd/udi_osdep.c, freebsd/udi_osdep.c: New files.
	* freebsd/udi_osdep_inst_attr.c, freebsd/udi_sprops.c: New files.
	* freebsd/udiprops.txt, freebsd/udi_sprops.c: New files.
	* freebsd-user/Makefile, freebsd/udiprops.txt: New files.
	* freebsd-user/obj_osdep.c, freebsd-user/osdep_pio.c: New files.
	* freebsd-user/pio_pops.c, freebsd-user/udi_osdep.mk: New files.
	* freebsd-user/udi_osdep.c, freebsd-user/udi_osdep.h: New files.
	* freebsd-user/udi_sprops.c: New files.

2001-02-15  Robert Lipe <robertl@sco.com>

        * common/Make_conf: Add case for FreeBSD.

2001-02-15  Robert Lipe <robertl@sco.com>

        * posix/posix.c (osdep_create_daemons): Gracefully handle EOPNOTSUPP
        from pthread_attr_setscope.

2001-02-13  Robert Lipe <robertl@sco.com>

	* posix/transbench.c (map_sz_trans_done): Removed broken references 
	to 'opcodes'.

2001-02-13  Jack Craig  <jackc@sco.com>

	* osr5/udi_osdep.c (_udi_osdep_timer_start): Cast third arg to timeout.

2001-02-12 Steven Bytnar <sbytnar@users.sourceforge.net>

        * linux/Makefile: Cleaned out some old rules. Added nuke rule.
	Added info about make arguments.

2001-02-09  Robert Lipe <robertl@sco.com>

	* common/udi_buf.c (_udi_mem_alloc_xbop_free, _udi_mem_alloc_xbops): 
	Delete dead code.
	* common/udi_dma.c (_udi_dma_nop, _dma_xbops): Likewise.

2001-02-09  Robert Lipe <robertl@sco.com>

	* common/udi_imc.c (_udi_reap_region_resources): Bracket in #if TRACKER.

2001-02-09  Robert Lipe <robertl@sco.com>

	* common/udi_MA_util.h (_udi_MA_usage_ind, _udi_channel_bound, 
	_udi_MA_enumerate): Move prototypes from here...
	* common/udi_MA.c (_udi_MA_usage_ind, _udi_channel_bound,
	_udi_MA_enumerate): ... to here.

